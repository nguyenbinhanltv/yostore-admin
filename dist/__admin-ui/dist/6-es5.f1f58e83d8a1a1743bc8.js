!function(){var e,r;function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{H5qd:function(e,r,t){var n=t("1CDb").parse;function o(e){return e.replace(/[\s,]+/g," ").trim()}var i={},c={},a=!0;var u=!1;function s(e){var r=o(e);if(i[r])return i[r];var t=n(e,{experimentalFragmentVariables:u});if(!t||"Document"!==t.kind)throw new Error("Not a valid GraphQL document.");return t=function e(r,t){var n=Object.prototype.toString.call(r);if("[object Array]"===n)return r.map((function(r){return e(r,t)}));if("[object Object]"!==n)throw new Error("Unexpected input.");t&&r.loc&&delete r.loc,r.loc&&(delete r.loc.startToken,delete r.loc.endToken);var o,i,c,a=Object.keys(r);for(o in a)a.hasOwnProperty(o)&&(i=r[a[o]],"[object Object]"!==(c=Object.prototype.toString.call(i))&&"[object Array]"!==c||(r[a[o]]=e(i,!0)));return r}(t=function(e){for(var r,t={},n=[],i=0;i<e.definitions.length;i++){var u=e.definitions[i];if("FragmentDefinition"===u.kind){var s=u.name.value,l=o((r=u.loc).source.body.substring(r.start,r.end));c.hasOwnProperty(s)&&!c[s][l]?(a&&console.warn("Warning: fragment with name "+s+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),c[s][l]=!0):c.hasOwnProperty(s)||(c[s]={},c[s][l]=!0),t[l]||(t[l]=!0,n.push(u))}else n.push(u)}return e.definitions=n,e}(t),!1),i[r]=t,t}function l(){for(var e=Array.prototype.slice.call(arguments),r=e[0],t="string"==typeof r?r:r[0],n=1;n<e.length;n++)e[n]&&e[n].kind&&"Document"===e[n].kind?t+=e[n].loc.source.body:t+=e[n],t+=r[n];return s(t)}l.default=l,l.resetCaches=function(){i={},c={}},l.disableFragmentWarnings=function(){a=!1},l.enableExperimentalFragmentVariables=function(){u=!0},l.disableExperimentalFragmentVariables=function(){u=!1},e.exports=l},tSeh:function(i,c,a){"use strict";a.r(c),a.d(c,"WebhookModule",(function(){return k}));var u=a("sEIs"),s=a("ixhn"),l=a("D57K"),h=a("nIj0"),b=a("H5qd"),f=a.n(b),p=f.a(e||(e=o(["\n    mutation updateWebhook($url: String!) {\n        updateWebhook(url: $url)\n    }\n"]))),d=f.a(r||(r=o(["\n    query webhook {\n        webhook\n    }\n"]))),m=a("EM62"),v=function(){function e(r,n,o,i,c,a,u){t(this,e),this.formBuilder=i,this.dataService=c,this.changeDetector=a,this.notificationService=u,this.webhookForm=this.formBuilder.group({url:["https://example.com",h.C.required]})}var r,o,i;return r=e,(o=[{key:"ngOnInit",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataService.query(d).mapStream((function(e){return e.webhook})).subscribe((function(e){return r.webhookForm.controls.url.setValue(e)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"save",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("SAVEDDD",this.webhookForm.value.url),e.prev=1,!this.webhookForm.dirty){e.next=6;break}return r=this.webhookForm.value,e.next=6,this.dataService.mutate(p,{url:r.url}).toPromise();case 6:this.webhookForm.markAsPristine(),this.changeDetector.markForCheck(),this.notificationService.success("common.notify-update-success",{entity:"Webhook"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.notificationService.error("common.notify-update-error",{entity:"Webhook"});case 12:case"end":return e.stop()}}),e,this,[[1,9]])})))}}])&&n(r.prototype,o),i&&n(r,i),e}();v.\u0275fac=function(e){return new(e||v)(m.cc(u.a),m.cc(u.e),m.cc(s.Mb),m.cc(h.e),m.cc(s.L),m.cc(m.k),m.cc(s.Eb))},v.\u0275cmp=m.Wb({type:v,selectors:[["greeter"]],decls:8,vars:2,consts:[[1,"clr-row"],[1,"clr-col"],[1,"form",3,"formGroup"],[1,"form-block"],["label","Webhook url","for","url"],["id","url","type","text","formControlName","url"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(m.ic(0,"div",0),m.ic(1,"div",1),m.ic(2,"form",2),m.ic(3,"section",3),m.ic(4,"vdr-form-field",4),m.dc(5,"input",5),m.hc(),m.ic(6,"button",6),m.pc("click",(function(){return r.save()})),m.Wc(7," Save "),m.hc(),m.hc(),m.hc(),m.hc(),m.hc()),2&e&&(m.Rb(2),m.yc("formGroup",r.webhookForm),m.Rb(4),m.yc("disabled",r.webhookForm.invalid||r.webhookForm.pristine))},directives:[h.E,h.q,h.j,s.eb,s.fb,h.b,h.p,h.h],encapsulation:2});var k=function e(){t(this,e)};k.\u0275mod=m.ac({type:k}),k.\u0275inj=m.Zb({factory:function(e){return new(e||k)},providers:[Object(s.Wb)({id:"webhook",label:"Webhook",routerLink:["/extensions/webhook"],icon:"cursor-hand-open"},"settings")],imports:[[s.Nb,u.i.forChild([{path:"",pathMatch:"full",component:v,data:{breadcrumb:"Webhook"}}])]]})}}])}();
//# sourceMappingURL=6-es5.f1f58e83d8a1a1743bc8.js.map