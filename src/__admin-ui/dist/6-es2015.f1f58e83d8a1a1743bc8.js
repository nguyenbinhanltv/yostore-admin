(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{H5qd:function(e,o,t){var r=t("1CDb").parse;function n(e){return e.replace(/[\s,]+/g," ").trim()}var i={},c={};var a=!0;function s(e,o){var t=Object.prototype.toString.call(e);if("[object Array]"===t)return e.map((function(e){return s(e,o)}));if("[object Object]"!==t)throw new Error("Unexpected input.");o&&e.loc&&delete e.loc,e.loc&&(delete e.loc.startToken,delete e.loc.endToken);var r,n,i,c=Object.keys(e);for(r in c)c.hasOwnProperty(r)&&(n=e[c[r]],"[object Object]"!==(i=Object.prototype.toString.call(n))&&"[object Array]"!==i||(e[c[r]]=s(n,!0)));return e}var u=!1;function l(e){var o=n(e);if(i[o])return i[o];var t=r(e,{experimentalFragmentVariables:u});if(!t||"Document"!==t.kind)throw new Error("Not a valid GraphQL document.");return t=s(t=function(e){for(var o,t={},r=[],i=0;i<e.definitions.length;i++){var s=e.definitions[i];if("FragmentDefinition"===s.kind){var u=s.name.value,l=n((o=s.loc).source.body.substring(o.start,o.end));c.hasOwnProperty(u)&&!c[u][l]?(a&&console.warn("Warning: fragment with name "+u+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),c[u][l]=!0):c.hasOwnProperty(u)||(c[u]={},c[u][l]=!0),t[l]||(t[l]=!0,r.push(s))}else r.push(s)}return e.definitions=r,e}(t),!1),i[o]=t,t}function h(){for(var e=Array.prototype.slice.call(arguments),o=e[0],t="string"==typeof o?o:o[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?t+=e[r].loc.source.body:t+=e[r],t+=o[r];return l(t)}h.default=h,h.resetCaches=function(){i={},c={}},h.disableFragmentWarnings=function(){a=!1},h.enableExperimentalFragmentVariables=function(){u=!0},h.disableExperimentalFragmentVariables=function(){u=!1},e.exports=h},tSeh:function(e,o,t){"use strict";t.r(o),t.d(o,"WebhookModule",(function(){return d}));var r=t("sEIs"),n=t("ixhn"),i=t("D57K"),c=t("nIj0"),a=t("H5qd"),s=t.n(a);const u=s.a`
    mutation updateWebhook($url: String!) {
        updateWebhook(url: $url)
    }
`,l=s.a`
    query webhook {
        webhook
    }
`;var h=t("EM62");class b{constructor(e,o,t,r,n,i,a){this.formBuilder=r,this.dataService=n,this.changeDetector=i,this.notificationService=a,this.webhookForm=this.formBuilder.group({url:["https://example.com",c.C.required]})}ngOnInit(){return Object(i.b)(this,void 0,void 0,(function*(){yield this.dataService.query(l).mapStream(e=>e.webhook).subscribe(e=>this.webhookForm.controls.url.setValue(e))}))}save(){return Object(i.b)(this,void 0,void 0,(function*(){console.log("SAVEDDD",this.webhookForm.value.url);try{if(this.webhookForm.dirty){const e=this.webhookForm.value;yield this.dataService.mutate(u,{url:e.url}).toPromise()}this.webhookForm.markAsPristine(),this.changeDetector.markForCheck(),this.notificationService.success("common.notify-update-success",{entity:"Webhook"})}catch(e){this.notificationService.error("common.notify-update-error",{entity:"Webhook"})}}))}}b.\u0275fac=function(e){return new(e||b)(h.cc(r.a),h.cc(r.e),h.cc(n.Mb),h.cc(c.e),h.cc(n.L),h.cc(h.k),h.cc(n.Eb))},b.\u0275cmp=h.Wb({type:b,selectors:[["greeter"]],decls:8,vars:2,consts:[[1,"clr-row"],[1,"clr-col"],[1,"form",3,"formGroup"],[1,"form-block"],["label","Webhook url","for","url"],["id","url","type","text","formControlName","url"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(e,o){1&e&&(h.ic(0,"div",0),h.ic(1,"div",1),h.ic(2,"form",2),h.ic(3,"section",3),h.ic(4,"vdr-form-field",4),h.dc(5,"input",5),h.hc(),h.ic(6,"button",6),h.pc("click",(function(){return o.save()})),h.Wc(7," Save "),h.hc(),h.hc(),h.hc(),h.hc(),h.hc()),2&e&&(h.Rb(2),h.yc("formGroup",o.webhookForm),h.Rb(4),h.yc("disabled",o.webhookForm.invalid||o.webhookForm.pristine))},directives:[c.E,c.q,c.j,n.eb,n.fb,c.b,c.p,c.h],encapsulation:2});class d{}d.\u0275mod=h.ac({type:d}),d.\u0275inj=h.Zb({factory:function(e){return new(e||d)},providers:[Object(n.Wb)({id:"webhook",label:"Webhook",routerLink:["/extensions/webhook"],icon:"cursor-hand-open"},"settings")],imports:[[n.Nb,r.i.forChild([{path:"",pathMatch:"full",component:b,data:{breadcrumb:"Webhook"}}])]]})}}]);
//# sourceMappingURL=6-es2015.f1f58e83d8a1a1743bc8.js.map